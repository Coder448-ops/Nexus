<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <title>Nexus Sovereign | Multi-User Control</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap');
        body { background: #000; color: #00ff00; font-family: 'Fira Code', monospace; }
        .term-container { border: 2px solid #111; border-radius: 15px; height: 80vh; display: flex; flex-direction: column; background: #050505; }
        .logs { flex: 1; overflow-y: auto; padding: 20px; font-size: 13px; color: #aaa; }
        .input-line { display: flex; align-items: center; padding: 15px; background: #080808; border-top: 1px solid #111; }
        .cmd-in { background: transparent; border: none; outline: none; color: #fff; flex: 1; margin-left: 10px; }
        .user-tag { color: #3b82f6; font-weight: bold; }
        .highlight { color: #ff00ff; }
    </style>
</head>
<body class="p-6">

    <div id="auth" class="fixed inset-0 bg-black z-[100] flex items-center justify-center">
        <input type="password" id="pin" onchange="login()" class="bg-transparent border-b-2 border-green-900 text-center text-3xl outline-none" placeholder="MASTER PIN">
    </div>

    <div id="ui" style="display: none;">
        <div class="flex justify-between mb-4">
            <h1 class="font-bold text-blue-500 uppercase tracking-widest">Master Multi-User Console v12.0</h1>
            <div id="current-user" class="text-xs text-gray-500">Selected User: <span class="text-white" id="sel-u">None</span></div>
        </div>

        <div class="term-container">
            <div id="logs" class="logs">
                <div class="text-green-500">>> NEXUS SOVEREIGN SYSTEM ONLINE.</div>
                <div class="text-gray-600">>> Type 'list' to see all users or 'help' for full commands.</div>
            </div>
            <div class="input-line">
                <span class="text-blue-500">master@nexus:~$</span>
                <input type="text" id="cmd" class="cmd-in" autofocus>
            </div>
        </div>
    </div>

    <script>
        // Foydalanuvchilar bazasi (Simulyatsiya)
        let users = JSON.parse(localStorage.getItem('nexus_users')) || {
            "user1": { name: "Oddiy User", cr: 0, status: "active" },
            "user2": { name: "VIP Klient", cr: 1000, status: "active" }
        };
        let selectedUser = null;

        function login() {
            if(document.getElementById('pin').value === "99") {
                document.getElementById('auth').style.display = 'none';
                document.getElementById('ui').style.display = 'block';
            }
        }

        function print(txt, color = "text-gray-400") {
            const logs = document.getElementById('logs');
            logs.innerHTML += `<div class="${color}">>> ${txt}</div>`;
            logs.scrollTop = logs.scrollHeight;
        }

        document.getElementById('cmd').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                let val = this.value.trim();
                let lower = val.toLowerCase();
                this.value = '';
                print(val, "text-blue-400");

                // 1. BUYRUQLAR RO'YXATI (Kengaytirilgan)
                if(lower === 'help') {
                    print(`
                        --- COMMAND CENTER ---<br>
                        • <b>list</b> - Barcha foydalanuvchilarni ko'rish<br>
                        • <b>select [id]</b> - Userni boshqarish uchun tanlash<br>
                        • <b>add cr [son]</b> - Tanlangan userga pul qo'shish<br>
                        • <b>set name [text]</b> - User ismini o'zgartirish<br>
                        • <b>ban / unban</b> - Userni bloklash/ochish<br>
                        • <b>mode toxic/normal</b> - Tizim rejimini o'zgartirish<br>
                        • <b>color [blue/red/gold]</b> - Sayt asosiy rangini o'zgartirish<br>
                        • <b>clear</b> - Terminalni tozalash<br>
                        • <b>search [text]</b> - Maxfiy Deep Search
                    `, "text-yellow-500");
                }

                // 2. USERLARNI RO'YXATI
                else if(lower === 'list') {
                    print("USERS FOUND IN DATABASE:");
                    for(let id in users) {
                        print(`ID: <span class="user-tag">${id}</span> | Name: ${users[id].name} | Balans: ${users[id].cr} CR`, "text-gray-300");
                    }
                }

                // 3. USERNI TANLASH
                else if(lower.startsWith('select ')) {
                    let id = lower.split(' ')[1];
                    if(users[id]) {
                        selectedUser = id;
                        document.getElementById('sel-u').innerText = users[id].name;
                        print(`USER ${id.toUpperCase()} SELECTED. Endi barcha buyruqlar bunga ta'sir qiladi.`, "text-green-500");
                    } else { print("XATO: Bunday ID mavjud emas!", "text-red-500"); }
                }

                // 4. PUL QO'SHISH (Tanlangan userga)
                else if(lower.startsWith('add cr ')) {
                    if(!selectedUser) return print("AVVAL USERNI TANLANG (select [id])", "text-red-500");
                    let amount = parseInt(lower.replace('add cr ', ''));
                    users[selectedUser].cr += amount;
                    save();
                    print(`SUCCESS: ${users[selectedUser].name} balansiga ${amount} CR qo'shildi.`);
                }

                // 5. ISMNI O'ZGARTIRISH
                else if(lower.startsWith('set name ')) {
                    if(!selectedUser) return print("AVVAL USERNI TANLANG", "text-red-500");
                    let newName = val.substring(9);
                    users[selectedUser].name = newName;
                    save();
                    print(`RENAME: User ismi '${newName}' ga o'zgartirildi.`);
                }

                // 6. BLOKLASH
                else if(lower === 'ban') {
                    if(!selectedUser) return;
                    users[selectedUser].status = "banned";
                    save();
                    print(`USER ${selectedUser} SYSTEMDAN BLOKLANDI!`, "text-red-600 font-bold");
                }

                // 7. MAXFIY QIDIRUV
                else if(lower.startsWith('search ')) {
                    let q = val.substring(7);
                    print(`SEARCHING DEEP WEB FOR: ${q}...`, "text-purple-500");
                    window.open(`https://www.google.com/search?q=${encodeURIComponent(q)}&tbm=vid`);
                }

                else if(lower === 'clear') { document.getElementById('logs').innerHTML = ''; }
                else { print("ERROR: Buyruq xato. 'help' deb yozing.", "text-red-400"); }
            }
        });

        function save() { localStorage.setItem('nexus_users', JSON.stringify(users)); }
    </script>
</body>
</html>
