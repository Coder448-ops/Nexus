<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <title>Nexus Sovereign | Absolute Control</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap');
        body { background: #000; color: #00ff00; font-family: 'Fira Code', monospace; overflow: hidden; height: 100vh; }
        #terminal { height: 85vh; background: #020202; border: 1px solid #111; border-radius: 10px; display: flex; flex-direction: column; }
        .logs { flex: 1; overflow-y: auto; padding: 20px; font-size: 13px; line-height: 1.6; }
        .input-line { background: #050505; padding: 15px; border-top: 1px solid #111; display: flex; align-items: center; }
        input { background: transparent; border: none; outline: none; color: #fff; flex: 1; margin-left: 10px; font-family: inherit; }
        .prompt { color: #3b82f6; }
        #auth { position: fixed; inset: 0; background: #000; z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .user-id { color: #f472b6; }
        .cmd-text { color: #fbbf24; }
    </style>
</head>
<body class="p-4">

    <div id="auth">
        <div class="text-center">
            <h1 class="text-2xl font-bold text-red-600 mb-6 tracking-[1em]">SYSTEM LOCK</h1>
            <input type="password" id="pin" class="bg-transparent border-b border-red-900 text-center text-3xl outline-none w-32" onchange="unlock()">
        </div>
    </div>

    <div id="ui" style="display: none;">
        <div class="flex justify-between items-center mb-2 px-2">
            <div class="text-[10px] uppercase opacity-50 tracking-widest">Sovereign OS v14.0 // Root Access</div>
            <div class="text-xs text-blue-500">Active: <span id="target" class="text-white">None</span></div>
        </div>

        <div id="terminal">
            <div id="logs" class="logs space-y-1">
                <div class="text-blue-500 font-bold">>>> NEXUS SOVEREIGN CORE INITIALIZED.</div>
                <div class="text-gray-500 italic">>>> Barcha tizimlar nazorat ostida. 'help' deb yozing.</div>
            </div>
            <div class="input-line">
                <span class="prompt">root@nexus:~#</span>
                <input type="text" id="cmd" autofocus spellcheck="false" autocomplete="off">
            </div>
        </div>
    </div>

    <script>
        let users = JSON.parse(localStorage.getItem('nexus_users')) || {};
        let selected = null;

        function unlock() {
            if(document.getElementById('pin').value === "99") {
                document.getElementById('auth').style.display = 'none';
                document.getElementById('ui').style.display = 'block';
                document.getElementById('cmd').focus();
            }
        }

        function print(txt, type = "") {
            const l = document.getElementById('logs');
            const colors = { 
                err: "text-red-500", 
                ok: "text-emerald-500", 
                warn: "text-yellow-500", 
                info: "text-blue-400" 
            };
            l.innerHTML += `<div class="${colors[type] || 'text-gray-400'}">>> ${txt}</div>`;
            l.scrollTop = l.scrollHeight;
        }

        document.getElementById('cmd').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                let raw = this.value.trim();
                let lower = raw.toLowerCase();
                this.value = '';
                print(raw, "info");

                // --- KOMANDALAR ---

                if (lower === 'help') {
                    print(`
                        --- [ FULL CONTROL MENU ] ---<br>
                        â€¢ <span class="cmd-text">list</span> - Barcha userlar ma'lumotlari<br>
                        â€¢ <span class="cmd-text">select [id]</span> - Userni tanlash<br>
                        â€¢ <span class="cmd-text">add cr [son]</span> - Kredit qo'shish<br>
                        â€¢ <span class="cmd-text">set pass [parol]</span> - Parolni yangilash<br>
                        â€¢ <span class="cmd-text">show pass</span> - Tanlangan user paroli<br>
                        â€¢ <span class="cmd-text">ban [id]</span> - Tizimdan haydash<br>
                        â€¢ <span class="cmd-text">unban [id]</span> - Blokdan chiqarish<br>
                        â€¢ <span class="cmd-text">delete user [id]</span> - Userni butkul o'chirish<br>
                        â€¢ <span class="cmd-text">mode toxic/normal</span> - Global tizim rejimi<br>
                        â€¢ <span class="cmd-text">msg [text]</span> - Hamma userlarga e'lon<br>
                        â€¢ <span class="cmd-text">search [text]</span> - Deep Search<br>
                        â€¢ <span class="cmd-text">clear</span> - Konsolni tozalash
                    `, "warn");
                }

                else if (lower === 'list') {
                    print("USER DATABASE:");
                    for(let id in users) {
                        let st = users[id].status === 'banned' ? 'ðŸ”´ BANNED' : 'ðŸŸ¢ ACTIVE';
                        print(`ID: <span class="user-id">${id}</span> | CR: ${users[id].cr} | PWD: ${users[id].pass} | ST: ${st}`);
                    }
                }

                else if (lower.startsWith('select ')) {
                    let id = lower.split(' ')[1];
                    if(users[id]) {
                        selected = id;
                        document.getElementById('target').innerText = id;
                        print(`User [${id}] boshqaruvga olindi.`, "ok");
                    } else { print("User topilmadi!", "err"); }
                }

                else if (lower.startsWith('add cr ')) {
                    if(!selected) return print("Avval user tanlang!", "err");
                    let n = parseInt(lower.replace('add cr ', ''));
                    users[selected].cr += n;
                    save(); print(`${n} CR qo'shildi. Umumiy: ${users[selected].cr}`, "ok");
                }

                else if (lower.startsWith('set pass ')) {
                    if(!selected) return print("User tanlang!", "err");
                    users[selected].pass = raw.substring(9);
                    save(); print("Parol o'zgartirildi.", "ok");
                }

                else if (lower === 'show pass') {
                    if(!selected) return;
                    print(`User: ${selected} | Parol: ${users[selected].pass}`, "warn");
                }

                else if (lower.startsWith('ban ')) {
                    let id = lower.split(' ')[1];
                    if(users[id]) { users[id].status = 'banned'; save(); print(`${id} bloklandi!`, "err"); }
                }

                else if (lower.startsWith('unban ')) {
                    let id = lower.split(' ')[1];
                    if(users[id]) { users[id].status = 'active'; save(); print(`${id} blokdan ochildi.`, "ok"); }
                }

                else if (lower.startsWith('delete user ')) {
                    let id = lower.split(' ')[2];
                    if(users[id]) { delete users[id]; save(); print(`${id} bazadan o'chirildi!`, "err"); }
                }

                else if (lower === 'mode toxic') {
                    localStorage.setItem('nexus_mode', 'toxic');
                    print("GLOBAL: TOXIC MODE ACTIVATED", "err");
                }

                else if (lower === 'mode normal') {
                    localStorage.setItem('nexus_mode', 'normal');
                    print("GLOBAL: NORMAL MODE RESTORED", "ok");
                }

                else if (lower.startsWith('msg ')) {
                    localStorage.setItem('global_msg', raw.substring(4));
                    print("GLOBAL MESSAGE SENT.", "ok");
                }

                else if (lower.startsWith('search ')) {
                    print("Searching Deep Web...");
                    window.open(`https://www.google.com/search?q=${encodeURIComponent(raw.substring(7))}&tbm=vid`);
                }

                else if (lower === 'clear') { document.getElementById('logs').innerHTML = ''; }
                
                else { print("Noma'lum buyruq. 'help' deb yozing.", "err"); }
            }
        });

        function save() { localStorage.setItem('nexus_users', JSON.stringify(users)); }
    </script>
</body>
</html>
