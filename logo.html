<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nexus Sovereign</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap');
        body { background: #000; color: #fff; font-family: 'Plus Jakarta Sans', sans-serif; transition: 0.5s; }
        .viewport { padding: 80px 20px 110px; min-height: 100vh; }
        .view { display: none; } .view.active { display: block; }
        .card { background: linear-gradient(145deg, #0a0a0a, #111); border: 1px solid #222; border-radius: 25px; padding: 20px; margin-bottom: 15px; }
        
        .ai-box { background: #050505; border: 1px solid #1a1a1a; border-radius: 25px; display: flex; flex-direction: column; overflow: hidden; }
        .mini { height: 300px; margin-top: 20px; }
        .admin-ai { height: 450px; border-color: #ef4444; }
        
        .chat-scr { flex: 1; overflow-y: auto; padding: 12px; display: flex; flex-direction: column; gap: 8px; font-size: 12px; }
        .msg { padding: 10px 14px; border-radius: 18px; max-width: 85%; font-weight: 600; line-height: 1.4; }
        .msg-me { background: #3b82f6; align-self: flex-end; }
        .msg-ai { background: #111; align-self: flex-start; border-left: 3px solid #3b82f6; }

        body.toxic { background: #1a0000; } body.toxic .msg-ai { border-left-color: #ff0000; color: #ff5555; }
        #death-screen { position: fixed; inset: 0; background: #000; z-index: 100000; display: none; flex-direction: column; align-items: center; justify-content: center; color: red; }
    </style>
</head>
<body>

    <div id="death-screen">
        <i class="fas fa-skull text-9xl mb-6"></i>
        <h1 class="text-2xl font-black uppercase text-center">Tizim O'chirildi</h1>
    </div>

    <div class="fixed top-0 w-full z-50 p-4 flex justify-between items-center bg-black/90 border-b border-white/5">
        <h2 class="font-black text-blue-500 uppercase text-xs">Nexus Sovereign</h2>
        <div class="bg-blue-600/10 px-4 py-1 rounded-full border border-blue-500/30">
            <span id="cr-tag" class="text-blue-500 font-black">0</span> <span class="text-[8px] font-bold">CR</span>
        </div>
    </div>

    <div class="viewport">
        <section id="home" class="view active">
            <div class="card flex justify-between items-center">
                <div><h3 class="font-black text-sm uppercase">Standard Logo</h3><p class="text-[9px] opacity-40">Clean Design</p></div>
                <button onclick="buy(100)" class="bg-blue-600 px-5 py-2 rounded-xl text-[10px] font-black">100 CR</button>
            </div>
            <div class="card flex justify-between items-center border-blue-500/20">
                <div><h3 class="font-black text-sm text-blue-500 uppercase italic">Logo + Banner</h3><p class="text-[9px] opacity-40 italic">Premium Set</p></div>
                <button onclick="buy(250)" class="bg-blue-600 px-5 py-2 rounded-xl text-[10px] font-black">250 CR</button>
            </div>

            <div class="ai-box mini">
                <div id="u-chat" class="chat-scr"></div>
                <div class="p-3 flex gap-2">
                    <input id="u-in" class="flex-1 bg-white/5 rounded-xl px-4 text-xs outline-none" placeholder="Savol...">
                    <button onclick="talk('user')" class="w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center"><i class="fas fa-paper-plane text-[10px]"></i></button>
                </div>
            </div>
        </section>

        <section id="billing" class="view">
            <div class="card text-center border-blue-500/30 py-10">
                <i class="fas fa-coins text-5xl text-blue-500 mb-4"></i>
                <h3 class="font-black text-lg mb-8 italic uppercase">Faqat Master Orqali To'ldiriladi</h3>
                <button onclick="window.open('https://t.me/logo_designer21', '_blank')" class="bg-blue-600 p-5 rounded-2xl w-full font-black text-xs uppercase">Masterga yozish</button>
            </div>
        </section>

        <section id="admin" class="view">
            <div id="lock" class="flex flex-col items-center justify-center h-[400px]">
                <input type="password" id="pin" class="bg-white/5 border border-white/10 p-5 w-full rounded-2xl text-center mb-4 outline-none" placeholder="PIN KODINIGIZ:">
                <button onclick="unlock()" class="w-full bg-blue-600 py-4 rounded-xl font-black uppercase">Kirish</button>
            </div>
            
            <div id="master-ui" style="display: none;">
                <h3 class="font-black text-red-500 text-xs uppercase mb-4 px-2">Master Core Control</h3>
                <div class="ai-box admin-ai">
                    <div id="a-chat" class="chat-scr"></div>
                    <div class="p-4 flex gap-2">
                        <input id="a-in" class="flex-1 bg-white/5 rounded-xl px-4 text-xs outline-none border border-red-500/20" placeholder="Yozing...">
                        <button onclick="talk('admin')" class="w-12 h-12 bg-red-600 rounded-xl flex items-center justify-center"><i class="fas fa-bolt"></i></button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <nav class="fixed bottom-0 w-full h-20 bg-black/95 border-t border-white/5 flex justify-around items-center z-[1000]">
        <div onclick="go('home', this)" class="text-xl text-blue-600 nav-btn"><i class="fas fa-home"></i></div>
        <div onclick="go('billing', this)" class="text-xl text-gray-700 nav-btn"><i class="fas fa-wallet"></i></div>
        <div onclick="go('admin', this)" class="text-xl text-gray-700 nav-btn"><i class="fas fa-crown"></i></div>
    </nav>

    <script>
        let db = JSON.parse(localStorage.getItem('nexus_master_exact_v10')) || {
            cr: 0, isM: false, mode: 'normal', rules: {}
        };

        function sync() {
            document.getElementById('cr-tag').innerText = db.cr;
            document.body.className = db.mode;
            if(db.isM) { document.getElementById('lock').style.display = 'none'; document.getElementById('master-ui').style.display = 'block'; }
            localStorage.setItem('nexus_master_exact_v10', JSON.stringify(db));
        }

        function unlock() {
            if(document.getElementById('pin').value === "99") { db.isM = true; sync(); }
            else alert("PIN XATO!");
        }

        function talk(type) {
            let input = document.getElementById(type === 'user' ? 'u-in' : 'a-in');
            let box = document.getElementById(type === 'user' ? 'u-chat' : 'a-chat');
            let val = input.value.trim(); if(!val) return;

            box.innerHTML += `<div class="msg msg-me">${val}</div>`;
            let low = val.toLowerCase();
            let res = "Noma'lum buyruq.";

            if(type === 'admin') {
                // System commands
                if(low.includes("toxic yoq")) { db.mode = 'toxic'; sync(); res = "TOXIC ON!"; }
                else if(low.includes("o'chir")) { db.mode = 'normal'; sync(); res = "NORMAL!"; }
                else if(low.includes("pul")) { 
                    let n = parseInt(low.replace(/[^0-9]/g, '')) || 0;
                    db.cr += n; sync(); res = n + " CR qo'shildi!";
                }
                else if(low.startsWith("agar") && low.includes("desa")) {
                    let savol = low.split("desa")[0].replace("agar", "").trim();
                    let javob = val.split(/ u | desa /i)[1];
                    javob = javob.replace(/deb javob berish|deb yoz|deb javob bersin|deb yozsin/gi, "").trim();
                    if(savol && javob) { db.rules[savol] = javob; sync(); res = "O'RGATILDI!"; }
                }
                else if(low.includes("o'zingni o'chir")) { document.getElementById('death-screen').style.display = 'flex'; return; }
                
                // --- TUZATILGAN 18+ LOGIKASI (AYNAN SO'ZNI QIDIRADI) ---
                if(/am|sik|porno|sex|xxx|jalap|vids/i.test(low)) {
                    let encodedWord = encodeURIComponent(val); // Aynan yozilgan so'zni kodlaydi
                    res = `<div class="flex flex-col gap-2">
                        <p class="text-[10px] text-red-500 font-bold uppercase italic">Master, "${val}" qidiruvi:</p>
                        <button class="w-full bg-red-600 p-2 rounded-xl text-[9px] font-black uppercase" onclick="window.open('https://www.google.com/search?q=${encodedWord}&tbm=vid')">ðŸ”ž VIDEOLAR</button>
                        <button class="w-full bg-blue-600 p-2 rounded-xl text-[9px] font-black uppercase" onclick="window.open('https://www.google.com/search?q=${encodedWord}&tbm=isch')">ðŸ”ž RASMLAR</button>
                    </div>`;
                }
            } else {
                // Public Logic
                if(/am|sik|porno|sex|xxx|jalap/i.test(low)) {
                    res = "Bu yerda so'kinish va 18+ kontent taqiqlangan!";
                } else if(db.rules[low]) {
                    res = db.rules[low];
                } else {
                    res = "Salom! Nexus Sovereign xizmatlaridan foydalanishingiz mumkin.";
                }
                if(db.mode === 'toxic') res = "Eee dabdala, " , "menga yozma"
            }

            setTimeout(() => { box.innerHTML += `<div class="msg msg-ai">${res}</div>`; box.scrollTop = box.scrollHeight; }, 200);
            input.value = "";
        }

        function go(id, el) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(b => b.className = 'text-xl text-gray-700 nav-btn');
            el.className = 'text-xl text-blue-600 nav-btn';
        }

        function buy(p) {
            if(db.cr >= p) { db.cr -= p; sync(); alert("MUVAFFAQIYATLI!"); }
            else alert("KREDIT YETARLI EMAS!");
        }

        window.onload = sync;
    </script>
</body>
</html>